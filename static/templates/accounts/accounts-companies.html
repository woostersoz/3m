<!-- BEGIN TABLE PORTLET-->
<div class="portlet light">

  <div class="portlet-header short view-header hidden">
        <div class="title col-md-12">Companies</div>
        <div class="title col-md-9 breadcrumb animate-show-hide hidden">&nbsp;</div>
        <div class="title col-md-3 breadcrumb hidden">&nbsp;</div>
  </div>
  
  <div class="portlet-title">
    <div class="caption hidden">
		<i class="fa fa-bullseye font-blue-madison"></i><span class="caption-subject bold uppercase font-blue-madison">Companies</span>
	</div>
	<form name="search-form" class="col-md-12 search-form open" ng-submit="searchCompaniesByName()">
		<div class="input-group">
			<input type="text" class="form-control input-sm" placeholder="Search..." name="company_query" ng-model="companyName">
			<span class="input-group-btn">
			<a href="javascript:;" title="Click to search" class="btn" ng-click="searchCompaniesByName()"><i class="icon-magnifier"></i></a>
			<a href="javascript:;" title="Reset" class="btn" ng-click="resetSearchCompaniesByName()"><i class="icon-refresh"></i></a>
			</span>
		</div>
    </form>
  </div>
			<div class="portlet-body">
				<div class="table-toolbar" ng-hide="!vm.accounts || !vm.accounts.length">
					<div class="row">
						<div class="col-md-12">
							<div class="btn-group pull-right">
								<button class="btn dropdown-toggle" data-toggle="dropdown">
									Tools <i class="fa fa-angle-down"></i>
								</button>
								<ul class="dropdown-menu pull-right">
									<li><a href="#"> Print </a></li>
									<li><a href="#"> Save as PDF </a></li>
									<li><a href="#"> Export to Excel </a></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<table ng-hide="!vm.accounts || !vm.accounts.length" class="table table-striped table-hover dataTable"
					id="accounts_table" ng-cloak>
					<thead>
						<tr>
						    <th class="center"></th>
							<th class="center">Name</th>
							<th class="center">Number of Leads</th>
						</tr>
					</thead>

					<tbody>
						<tr dir-paginate-start="account in vm.accounts | itemsPerPage:10" total-items="totalAccounts" current-page="pagination.current">
							<td class="center">
							<a ng-hide="showingCompany[account._id]" ng-click="showCompanyDetails(account)" href="javascript:;">
							   <span class="row-details row-details-close"></span>
							</a>
							<a ng-show="showingCompany[account._id]" ng-click="hideCompanyDetails(account)" href="javascript:;">
							   <span class="row-details row-details-open"></span>
							</a>
							</td>
							<td class="center">
							{{ account._id }}
							</td>
							<td class="center">
							{{ account.count }}
							</td>
						</tr>
						<tr dir-paginate-end ng-show="showingCompany[account._id]">
						<td colspan="9">
						<ul>
						  <li style="display:inline; float:left; margin-left:5px; margin-top: 10px; margin-bottom: 10px" ng-repeat="name in account.name track by $index">
						    <span ng-if="name.length > 0" class="label label-primary"> {{ name }} </span>
						  </li>
						</ul>
						</td>
						</tr>
					</tbody>
					<div ng-hide="vm.accounts && vm.accounts.length">
						<div class="col-sm-12 no-symbols-here">
							<em>The are no companies available.</em>
						</div>
					</div> 
				</table>
				<div class="col-md-12" style="padding-left:0px; padding-right:0px">
				   <div class="col-md-3 table-pagination-counter italic" style="padding-left:0px; padding-right:0px" ng-hide="!vm.accounts || !vm.accounts.length" >Showing {{startAccountCounter}} to {{endAccountCounter}} of {{totalAccounts}}</div>
				   <div class="col-md-9" style="padding-left:0px; padding-right:0px"> 
				       <dir-pagination-controls class="pull-right" ng-hide="!vm.accounts || !vm.accounts.length" on-page-change="pageChanged(newPageNumber)"></dir-pagination-controls>
			       </div>
			    </div>
				</div>
		</div>
		<!-- END EXAMPLE TABLE PORTLET-->

<!-- END PAGE CONTENT -->
